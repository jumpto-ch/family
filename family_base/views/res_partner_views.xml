<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="family_member_form" model="ir.ui.view">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="sms.res_partner_view_form"/>
        <field name="arch" type="xml">
            <field name="is_company" position="after">
                <field name="is_family_member" invisible="True"/>
            </field>
            <field name="function" position="after">
                <field name="family_member_role" attrs="{'invisible': [('is_family_member', '=', False)]}"/>
            </field>
            <field name="website" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </field>
            <field name="vat" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </field>
            <field name="title" position="attributes">
                <attribute name="attrs">{
                    'invisible': ['|', ('is_family_member', '=', True), ('is_company', '=', True)]}</attribute>
            </field>
            <field name="type" position="attributes">
                <attribute name="attrs">{
                    'invisible': ['|', ('is_family_member', '=', True), ('is_company', '=', True)]}</attribute>
            </field>
            <field name="function" position="attributes">
                <attribute name="attrs">{
                    'invisible': ['|', ('is_family_member', '=', True), ('is_company', '=', True)]}</attribute>
            </field>


            <!-- Remove field phone -->
            <xpath expr="/form/sheet/group/group[2]/label[1]" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </xpath>
            <xpath expr="/form/sheet/group/group[2]/div[1]" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </xpath>


            <!-- Remove field phone -->
            <xpath expr="/form/sheet/notebook/page[1]" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </xpath>
            <xpath expr="//page[@name='sales_purchases']" position="attributes">
                <attribute name="attrs">{'invisible': [('is_family_member', '=', True)]}</attribute>
            </xpath>
        </field>
    </record>
    <record id="family_member_kanban" model="ir.ui.view">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.res_partner_kanban_view"/>
        <field name="arch" type="xml">
            <field name="is_company" position="after">
                <field name="is_family"/>
            </field>
            <xpath expr="/kanban/templates/t/div/t[2]/t" position="after">
                <t t-if="record.is_family.raw_value" t-set="placeholder" t-value="'/family_base/static/img/family_image.png'"/>
                <t t-else="" t-set="placeholder" t-value="'/base/static/img/company_image.png'"/>
            </xpath>
        </field>
    </record>
</odoo>
